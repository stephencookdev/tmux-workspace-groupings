(()=>{var t={9274:(t,e,s)=>{const{appendFileSync:n}=s(5747),o=s(5622),{throwTmuxError:i}=s(2462),{getTmuxOption:r}=s(7309),l=r("@groupings_workspace_directory"),c=o.join(__dirname,"..");l||i("You need to incude a `set-option -g workspace MY_WORKSPACE` to point to where your workspace directory is"),process.on("uncaughtException",((t,e)=>{const s=`${c}/twg.error.log`,o={timeOfError:(new Date).toISOString(),error:t.toString(),stack:t.stack,origin:e},r=JSON.stringify(o,null,2);n(s,r+"\n"),i(`Unexpected TWG error! Error log written to ${s}`)}))},7309:(t,e,s)=>{const{execSync:n}=s(3129),o={"@groupings_session_targets":"build,git","@groupings_special_session_name":"___","@groupings_special_window_name":"___","@groupings_file_system_poll_min_interval":1e3,"@groupings_file_system_poll_max_interval":15e3,"@groupings_workspace_directory":null};t.exports={getTmuxOption:t=>n(`tmux show-option -gqv ${t}`).toString().trim()||o[t]}},2462:(t,e,s)=>{const{readFileSync:n,readdirSync:o}=s(5747),{execSync:i}=s(3129),r=t=>t?`"${t.replace(/"/g,'\\"')}"`:t,l=()=>i("tmux list-sessions -F '#{session_name}//#{session_attached}'").toString().split("\n").filter(Boolean).map((t=>t.split("//"))),c=()=>i("tmux list-windows -a -F '#{session_name}//#{session_attached}//#{window_name}//#{window_active}//#{pane_id}'").toString().split("\n").filter(Boolean).map((t=>t.split("//")));t.exports={getDirectories:t=>o(t,{withFileTypes:!0}).filter((t=>t.isDirectory())).map((t=>t.name)),getAllTmuxSessions:l,getAllTmuxSessionWindows:c,tmuxSwitch:(t,e)=>{t&&e?i(`tmux select-window -t ${r(t)}:${r(e)}`):e&&i(`tmux select-window -t ${r(e)}`),t&&i(`tmux switch-client -t ${r(t)}`)},getTmuxWindows:t=>c().filter((([e])=>e===t)).map((([,,t])=>t)),tmuxCreate:(t,e,s,n="")=>{const o=l().map((([t])=>t));s.forEach((s=>{o.includes(s)?i(`tmux new-window -t ${r(s)} -n ${r(t)} -c ${r(e)} ${r(n)}`):i(`tmux new-session -A -d -s ${r(s)} -n ${r(t)} -c ${r(e)} ${r(n)}`)}))},closeTmuxWindow:(t,e)=>{i(`tmux kill-window -t ${r(t)}:${r(e)}`)},killTmuxSession:t=>{i(`tmux kill-session -t ${r(t)}`)},runInAlternateScreen:()=>{process.stdout.write("[?1049h"),process.on("exit",(()=>{process.stdout.write("[?1049l")}))},restoreLastTmuxSession:()=>{i("tmux switch-client -l")},throwTmuxError:t=>{i(`tmux display-message ${r(t)}`),process.exit(0)},applyConfig:(t,e,s,o)=>{let l;try{l=n(`${o}/.config/${t}.json`)}catch(t){}if(!l)return;const p=JSON.parse(l);e.forEach((e=>{const n=p[e];if(!n)return;const o=((t,e)=>c().filter((([s,,n])=>s===t&&n===e)).map((([,,,,t])=>t)))(e,t)[0];if(n.panes)for(let l=0;l<n.panes.length;l++)n.panes[l]&&i(`tmux send-keys -t ${r(e)}:${r(t)} ${r(n.panes[l])} Enter`),l===n.panes.length-1?i(`tmux select-pane -t ${r(o)}`):i(`tmux split-window -t ${r(o)} -c ${r(s)}`);n.layout&&i(`tmux select-layout -t ${r(e)}:${r(t)} ${r(n.layout)}`)}))}}},3129:t=>{"use strict";t.exports=require("child_process")},5747:t=>{"use strict";t.exports=require("fs")},5622:t=>{"use strict";t.exports=require("path")}},e={};function s(n){if(e[n])return e[n].exports;var o=e[n]={exports:{}};return t[n](o,o.exports,s),o.exports}(()=>{const{tmuxSwitch:t,getAllTmuxSessionWindows:e}=s(2462),{getTmuxOption:n}=s(7309);s(9274);const o=n("@groupings_session_targets").split(","),i=e(),[r,,l]=i.find((([,t,,e])=>"1"===t&&"1"===e));let c=!1;for(let e=0;e<o.length;e++)if(r===o[e]){t(o[(e+1+o.length)%o.length],l),c=!0;break}c||t(o[0])})()})();