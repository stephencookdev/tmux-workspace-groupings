(()=>{var t={610:(t,e,r)=>{function n(){return(n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var i=r(297),s=i.useState,u=i.useEffect,a=r(581).Box;t.exports=function(t){var e,r,c=(e=s({columns:process.stdout.columns,rows:process.stdout.rows}),r=2,function(t){if(Array.isArray(t))return t}(e)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var r=[],n=!0,o=!1,i=void 0;try{for(var s,u=t[Symbol.iterator]();!(n=(s=u.next()).done)&&(r.push(s.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{n||null==u.return||u.return()}finally{if(o)throw i}}return r}}(e,r)||function(t,e){if(t){if("string"==typeof t)return o(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(t,e):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=c[0],f=c[1];return u((function(){function t(){f({columns:process.stdout.columns,rows:process.stdout.rows})}return process.stdout.on("resize",t),function(){process.stdout.off("resize",t)}}),[]),i.createElement(a,n({width:l.columns,height:l.rows},t))}},40:(t,e,r)=>{function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var o=r(297),i=o.useState,s=o.useEffect,u=r(581).Text,a={interval:80,frames:["⠋","⠙","⠹","⠸","⠼","⠴","⠦","⠧","⠇","⠏"]};t.exports=function(){var t,e,r=(t=i(0),e=2,function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var r=[],n=!0,o=!1,i=void 0;try{for(var s,u=t[Symbol.iterator]();!(n=(s=u.next()).done)&&(r.push(s.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{n||null==u.return||u.return()}finally{if(o)throw i}}return r}}(t,e)||function(t,e){if(t){if("string"==typeof t)return n(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=r[0],l=r[1];return s((function(){var t=setInterval((function(){l((function(t){return t===a.frames.length-1?0:t+1}))}),a.interval);return function(){clearInterval(t)}}),[a]),o.createElement(u,null,a.frames[c])}},48:(t,e,r)=>{function n(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var r=[],n=!0,o=!1,i=void 0;try{for(var s,u=t[Symbol.iterator]();!(n=(s=u.next()).done)&&(r.push(s.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{n||null==u.return||u.return()}finally{if(o)throw i}}return r}}(t,e)||function(t,e){if(t){if("string"==typeof t)return o(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var i=r(622),s=r(129).exec,u=r(297),a=u.useEffect,c=u.useState,l=r(581),f=l.useStdin,m=l.Box,d=l.Text,p=l.Spacer,w=r(657),y=r(610),v=r(40),h=r(462),x=h.runInAlternateScreen,g=h.getTmuxWindows,S=h.getDirectories,b=h.tmuxSwitch,A=h.tmuxCreate,E=h.restoreLastTmuxSession,j="/Users/stephen/workspace",$=["build","git"];x();var I=0,_=function(){return{dirs:S(j),windowSessions:g($[0])}};t.exports=function(){var t,e,r,o,l,h=n(c(""),2),x=h[0],g=h[1],S=n(c(0),2),T=S[0],O=S[1],C=n(c(!1),2),D=C[0],k=C[1],q=function(){var t=n(c(_()),2),e=t[0],r=t[1],o=function(){var t=Date.now();t-I>1e3&&(I=t,r(_()))};return a((function(){var t=setInterval(o,15e3);return function(){return clearInterval(t)}})),[e,o]}(),B=n(q,2),z=B[0],M=B[1],U=z.dirs,W=z.windowSessions,F=x?w.go(x,U).map((function(t){return t.target})):U,L=(T+F.length)%F.length,H=function(){M(),g(""),O(0),k(!1)},P=null===(t=/^git@.*\/(.*)\.git$/.exec(x))||void 0===t?void 0:t[1];return e=function(t,e){if(!D)if(M(),t)g((function(e){return e+t})),O(0);else if(e.escape)H(),E();else if(e.return&&U[L]){var r=F[L];W.includes(r)||A(r,i.join(j,r),$),b($[0],r),H()}else e.return&&P?(k(!0),s("git clone ".concat(x," ").concat(i.join(j,P)),(function(){A(P,i.join(j,P),$),b($[0],P),H()}))):e.downArrow?O((function(t){return t+1})):e.upArrow?O((function(t){return t-1})):(e.backspace||e.delete)&&(g((function(t){return t.slice(0,Math.max(t.length-1,0))})),O(0))},r=f(),o=r.stdin,l=r.setRawMode,a((function(){return l(!0),function(){return l(!1)}}),[l]),a((function(){var t=function(t){var r=String(t),n={upArrow:"[A"===r,downArrow:"[B"===r,leftArrow:"[D"===r,rightArrow:"[C"===r,pageDown:"[6~"===r,pageUp:"[5~"===r,return:"\r"===r,escape:""===r,backspace:"\b"===r,delete:""===r||"[3~"===r};if(Object.values(n).find(Boolean))return e(null,n);var o=r.split("").filter((function(t){return/^[a-z0-9 -_]$/i.test(t)})).join("");o&&e(o,{})};return null==o||o.on("data",t),function(){return null==o?void 0:o.off("data",t)}}),[o,e]),D?u.createElement(y,{alignItems:"center",justifyContent:"center",flexDirection:"column"},u.createElement(d,null,u.createElement(v,null)," Downloading ",u.createElement(d,{color:"green"},P),"...")):u.createElement(y,{alignItems:"center",justifyContent:"center",flexDirection:"column"},u.createElement(m,{borderStyle:"round"},u.createElement(d,null,x||" ")),u.createElement(p,null),F.map((function(t,e){return u.createElement(d,{key:t,color:e===L?"green":W.includes(t)?"yellow":"white"},t)})),P&&u.createElement(d,{color:"yellow"},"Hit enter to download ",u.createElement(d,{color:"green"},P)),u.createElement(p,null))}},462:(t,e,r)=>{const{readdirSync:n}=r(747),{execSync:o}=r(129),i=()=>o("tmux list-sessions -F '#{session_name}//#{session_attached}'").toString().split("\n").filter(Boolean).map((t=>t.split("//"))),s=()=>o("tmux list-windows -a -F '#{session_name}//#{session_attached}//#{window_name}//#{window_active}//#{pane_id}'").toString().split("\n").filter(Boolean).map((t=>t.split("//")));t.exports={getDirectories:t=>n(t,{withFileTypes:!0}).filter((t=>t.isDirectory())).map((t=>t.name)),getAllTmuxSessions:i,getAllTmuxSessionWindows:s,tmuxSwitch:(t,e)=>{t&&e?o(`tmux select-window -t ${t}:${e}`):e&&o("tmux select-window -t "+e),t&&o("tmux switch-client -t "+t)},getTmuxWindows:t=>s().filter((([e])=>e===t)).map((([,,t])=>t)),tmuxCreate:(t,e,r,n="")=>{const s=i().map((([t])=>t));r.forEach((r=>{s.includes(r)?o(`tmux new-window -t ${r} -n ${t} -c ${e} ${n}`):o(`tmux new-session -A -d -s ${r} -n ${t} -c ${e} ${n}`)}))},closeTmuxWindow:(t,e)=>{o(`tmux kill-window -t ${t}:${e}`)},runInAlternateScreen:()=>{process.stdout.write("[?1049h"),process.on("exit",(()=>{process.stdout.write("[?1049l")}))},restoreLastTmuxSession:()=>{o("tmux switch-client -l")}}},129:t=>{"use strict";t.exports=require("child_process")},747:t=>{"use strict";t.exports=require("fs")},657:t=>{"use strict";t.exports=require("fuzzysort")},581:t=>{"use strict";t.exports=require("ink")},622:t=>{"use strict";t.exports=require("path")},297:t=>{"use strict";t.exports=require("react")}},e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={exports:{}};return t[n](o,o.exports,r),o.exports}(()=>{const{getAllTmuxSessionWindows:t}=r(462),e="___",n="___",o=t().filter((([t])=>t===e)).find((([,,t])=>t===n)),[,i,,s]=o||[],u=`'node ${__filename}'`;if("1"===i&&"1"===s){const{render:t}=r(581),e=r(297),n=r(48);t(e.createElement(n))}else if(o){const{tmuxSwitch:t}=r(462);t(e,n)}else{const{tmuxCreate:t,tmuxSwitch:o}=r(462);t(n,"/",[e],u),o(e,n)}})()})();