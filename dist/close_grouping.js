(()=>{var t={9274:(t,e,s)=>{const{appendFileSync:o}=s(5747),i=s(5622),{throwTmuxError:n}=s(2462),{getTmuxOption:r}=s(7309),c=r("@groupings_workspace_directory"),l=i.join(__dirname,"..");c||n("You need to incude a `set-option -g workspace MY_WORKSPACE` to point to where your workspace directory is"),process.on("uncaughtException",((t,e)=>{const s=`${l}/twg.error.log`,i={timeOfError:(new Date).toISOString(),error:t.toString(),stack:t.stack,origin:e},r=JSON.stringify(i,null,2);o(s,r+"\n"),n(`Unexpected TWG error! Error log written to ${s}`)}))},7309:(t,e,s)=>{const{execSync:o}=s(3129),i={"@groupings_session_targets":"build,git","@groupings_special_session_name":"___","@groupings_special_window_name":"___","@groupings_file_system_poll_min_interval":1e3,"@groupings_file_system_poll_max_interval":15e3,"@groupings_workspace_directory":null};t.exports={getTmuxOption:t=>o(`tmux show-option -gqv ${t}`).toString().trim()||i[t]}},2462:(t,e,s)=>{const{readFileSync:o,readdirSync:i}=s(5747),{execSync:n}=s(3129),r=t=>t?`"${t.replace(/"/g,'\\"')}"`:t,c=()=>n("tmux list-sessions -F '#{session_name}//#{session_attached}'").toString().split("\n").filter(Boolean).map((t=>t.split("//"))),l=()=>n("tmux list-windows -a -F '#{session_name}//#{session_attached}//#{window_name}//#{window_active}//#{pane_id}'").toString().split("\n").filter(Boolean).map((t=>t.split("//")));t.exports={getDirectories:t=>i(t,{withFileTypes:!0}).filter((t=>t.isDirectory())).map((t=>t.name)),getAllTmuxSessions:c,getAllTmuxSessionWindows:l,tmuxSwitch:(t,e)=>{t&&e?n(`tmux select-window -t ${r(t)}:${r(e)}`):e&&n(`tmux select-window -t ${r(e)}`),t&&n(`tmux switch-client -t ${r(t)}`)},getTmuxWindows:t=>l().filter((([e])=>e===t)).map((([,,t])=>t)),tmuxCreate:(t,e,s,o="")=>{const i=c().map((([t])=>t));s.forEach((s=>{i.includes(s)?n(`tmux new-window -t ${r(s)} -n ${r(t)} -c ${r(e)} ${r(o)}`):n(`tmux new-session -A -d -s ${r(s)} -n ${r(t)} -c ${r(e)} ${r(o)}`)}))},closeTmuxWindow:(t,e)=>{n(`tmux kill-window -t ${r(t)}:${r(e)}`)},killTmuxSession:t=>{n(`tmux kill-session -t ${r(t)}`)},runInAlternateScreen:()=>{process.stdout.write("[?1049h"),process.on("exit",(()=>{process.stdout.write("[?1049l")}))},restoreLastTmuxSession:()=>{n("tmux switch-client -l")},throwTmuxError:t=>{n(`tmux display-message ${r(t)}`),process.exit(0)},applyConfig:(t,e,s,i)=>{let c;try{c=o(`${i}/.config/${t}.json`)}catch(t){}if(!c)return;const p=JSON.parse(c);e.forEach((e=>{const o=p[e];if(!o)return;const i=((t,e)=>l().filter((([s,,o])=>s===t&&o===e)).map((([,,,,t])=>t)))(e,t)[0];if(o.panes)for(let c=0;c<o.panes.length;c++)o.panes[c]&&n(`tmux send-keys -t ${r(e)}:${r(t)} ${r(o.panes[c])} Enter`),c===o.panes.length-1?n(`tmux select-pane -t ${r(i)}`):n(`tmux split-window -t ${r(i)} -c ${r(s)}`);o.layout&&n(`tmux select-layout -t ${r(e)}:${r(t)} ${r(o.layout)}`)}))}}},3129:t=>{"use strict";t.exports=require("child_process")},5747:t=>{"use strict";t.exports=require("fs")},5622:t=>{"use strict";t.exports=require("path")}},e={};function s(o){if(e[o])return e[o].exports;var i=e[o]={exports:{}};return t[o](i,i.exports,s),i.exports}(()=>{const{closeTmuxWindow:t,getAllTmuxSessionWindows:e}=s(2462),{getTmuxOption:o}=s(7309);s(9274);const i=o("@groupings_session_targets").split(","),n=e(),[r,,c]=n.find((([,t,,e])=>"1"===t&&"1"===e));i.includes(r)&&i.forEach((e=>{t(e,c)}))})()})();