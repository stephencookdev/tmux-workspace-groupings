(()=>{var e={9274:(e,t,s)=>{const{appendFileSync:o}=s(5747),i=s(5622),{throwTmuxError:n}=s(2462),{getTmuxOption:r}=s(7309),l=r("@groupings_workspace_directory"),c=i.join(__dirname,"..");l||n("You need to incude a `set-option -g workspace MY_WORKSPACE` to point to where your workspace directory is"),process.on("uncaughtException",((e,t)=>{const s=`${c}/twg.error.log`,i={timeOfError:(new Date).toISOString(),error:e.toString(),stack:e.stack,origin:t},r=JSON.stringify(i,null,2);o(s,r+"\n"),n(`Unexpected TWG error! Error log written to ${s}`)}))},7309:(e,t,s)=>{const{execSync:o}=s(3129),i={"@groupings_session_targets":"build,git","@groupings_special_session_name":"___","@groupings_special_window_name":"___","@groupings_file_system_poll_min_interval":1e3,"@groupings_file_system_poll_max_interval":15e3,"@groupings_workspace_directory":null};e.exports={getTmuxOption:e=>o(`tmux show-option -gqv ${e}`).toString().trim()||i[e]}},2462:(e,t,s)=>{const{readFileSync:o,readdirSync:i}=s(5747),{execSync:n}=s(3129),r=e=>e?`"${e.replace(/"/g,'\\"')}"`:e,l=()=>n("tmux list-sessions -F '#{session_name}//#{session_attached}'").toString().split("\n").filter(Boolean).map((e=>e.split("//"))),c=()=>n("tmux list-windows -a -F '#{session_name}//#{session_attached}//#{window_name}//#{window_active}//#{pane_id}'").toString().split("\n").filter(Boolean).map((e=>e.split("//")));e.exports={getDirectories:e=>i(e,{withFileTypes:!0}).filter((e=>e.isDirectory())).map((e=>e.name)),getAllTmuxSessions:l,getAllTmuxSessionWindows:c,tmuxSwitch:(e,t)=>{e&&t?n(`tmux select-window -t ${r(e)}:${r(t)}`):t&&n(`tmux select-window -t ${r(t)}`),e&&n(`tmux switch-client -t ${r(e)}`)},getTmuxWindows:e=>c().filter((([t])=>t===e)).map((([,,e])=>e)),tmuxCreate:(e,t,s,o="")=>{const i=l().map((([e])=>e));s.forEach((s=>{i.includes(s)?n(`tmux new-window -t ${r(s)} -n ${r(e)} -c ${r(t)} ${r(o)}`):n(`tmux new-session -A -d -s ${r(s)} -n ${r(e)} -c ${r(t)} ${r(o)}`)}))},closeTmuxWindow:(e,t)=>{n(`tmux kill-window -t ${r(e)}:${r(t)}`)},killTmuxSession:e=>{n(`tmux kill-session -t ${r(e)}`)},runInAlternateScreen:()=>{process.stdout.write("[?1049h"),process.on("exit",(()=>{process.stdout.write("[?1049l")}))},restoreLastTmuxSession:()=>{n("tmux switch-client -l")},throwTmuxError:e=>{n(`tmux display-message ${r(e)}`),process.exit(0)},applyConfig:(e,t,s,i)=>{let l;try{l=o(`${i}/.config/${e}.json`)}catch(e){}if(!l)return;const p=JSON.parse(l);t.forEach((t=>{const o=p[t];if(!o)return;const i=((e,t)=>c().filter((([s,,o])=>s===e&&o===t)).map((([,,,,e])=>e)))(t,e)[0];if(o.panes)for(let l=0;l<o.panes.length;l++)o.panes[l]&&n(`tmux send-keys -t ${r(t)}:${r(e)} ${r(o.panes[l])} Enter`),l===o.panes.length-1?n(`tmux select-pane -t ${r(i)}`):n(`tmux split-window -t ${r(i)} -c ${r(s)}`);o.layout&&n(`tmux select-layout -t ${r(t)}:${r(e)} ${r(o.layout)}`)}))}}},3129:e=>{"use strict";e.exports=require("child_process")},5747:e=>{"use strict";e.exports=require("fs")},5622:e=>{"use strict";e.exports=require("path")}},t={};function s(o){if(t[o])return t[o].exports;var i=t[o]={exports:{}};return e[o](i,i.exports,s),i.exports}(()=>{const{getAllTmuxSessions:e,killTmuxSession:t}=s(2462),{getTmuxOption:o}=s(7309);s(9274);const i=o("@groupings_special_session_name");e().map((([e])=>e)).includes(i)&&t(i)})()})();